<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>數學出題器</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background:#f3f4f6; margin:0; padding:40px; }
    .box { max-width:800px; margin:auto; background:white; padding:32px; border-radius:16px; box-shadow:0 10px 25px rgba(0,0,0,.1); }
    h1 { font-size:32px; margin-bottom:20px; }
    button { font-size:20px; padding:12px 24px; border:none; border-radius:12px; background:#2563eb; color:white; cursor:pointer; }
    .q { font-size:24px; margin-top:30px; }
    input { font-size:22px; padding:10px; width:200px; margin-top:16px; }
    .result { font-size:22px; margin-top:20px; }
  </style>
</head>
<body>
<div class="box">
  <h1>數學出題器</h1>
  <button onclick="newQuestion()">開始出題</button>

  <div class="q" id="question"></div>
  <input id="answer" placeholder="輸入答案" onkeydown="if(event.key==='Enter') check()" />
  <div class="result" id="result"></div>
</div>

<script>
let correct;

function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a}

function newQuestion(){
  document.getElementById('result').textContent='';
  document.getElementById('answer').value='';

  const type = rand(1,5);
  let q='';

  if(type===1){
    // 對數方程
    const x = rand(1,4);
    const a = rand(2,5);
    q = `解方程式：log_${a}(${a**x}) = x，求 x`;
    correct = x;
  }

  if(type===2){
    // 二次函數最大值
    const a = -rand(1,3);
    const b = rand(2,6);
    q = `求函數 f(x) = ${a}x^2 + ${b}x 的最大值`;
    correct = (b*b)/( -4*a );
  }

  if(type===3){
    // 函數值比較
    q = `比較 f(4) 與 f(5)，其中 f(x)=x^2-3x（輸入 1 或 2）`;
    const f4 = 4*4 - 3*4;
    const f5 = 5*5 - 3*5;
    correct = f4>f5?1:2;
  }

  if(type===4){
    // 絕對值不等式
    q = `解不等式：|x-3| ≤ 2，求解的個數`;
    correct = 5;
  }

  if(type===5){
    // 圓與直線
    q = `圓 x^2 + y^2 = 9 與直線 y = 2 是否相交？（1相交 2相切 3不相交）`;
    correct = 1;
  }

  document.getElementById('question').textContent = q;
}

function check(){
  const a = document.getElementById('answer').value.trim();
  if(a==='') return;
  document.getElementById('result').textContent = (Number(a)==correct)?'正確':'錯誤，正確答案是 '+correct;
}
</script>
</body>
</html>
